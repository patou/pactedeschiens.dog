package com.geminicode.pactedeschiens.servlet;

import com.geminicode.pactedeschiens.model.Article;
import com.geminicode.pactedeschiens.service.ArticleService;
import com.geminicode.pactedeschiens.utils.ServiceFactory;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.util.Date;
import java.util.logging.Logger;

public class InitServlet extends HttpServlet {
    private final Logger logger = Logger.getLogger(InitServlet.class.getName());

    private final ArticleService articleService = ServiceFactory.get().getArticleService();

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {
        articleService.removeAll();
        final Article article = new Article();
        article.setTitle("Je veux un chien !");
        article.setIntro("C’est si doux à entendre. Et pourtant, y répondre convenablement n’est pas chose aisée, une réflexion s’impose.  Plus particulièrement si c’est votre première fois ! Il va sans dire qu’un coup de tête peut amener aux pires conséquences. Ainsi plusieurs dimensions sont à prendre en compte.");
        article.setCover("images/article1.jpg");
        article.setDate(new Date());
        article.setAuthor("Johan Lambon");
        article.setContent("<p>Le plus raisonnable serait de commencer par « que puis-je lui apporter ? » au lieu de « que puis-je en recevoir ». Ce n’est pas une évidence pour tout le monde. Mais je pense sincèrement que c’est là que votre relation future prendra tout son sens. Certains auront du temps, une grande propriété avec du terrain, des activités en plein air, ou tout simplement une place chez eux avec de l’amour.  </p><p>Le foyer : Véritable lieu de vie et d’interaction, il conviendra évidemment de vous assurer que le chien est désiré et accepté par tous les membres. Il ne faudrait pas que ce dernier devienne sujet de discorde, on évitera donc le fameux cadeau empoisonné. Les participants devront se mettre d’accord sur les règles qui régiront le foyer du chien. Où sera sa place ? Aura-t-il accès à toutes les pièces ? Y aura-t-il d’autres compagnons, canins ou autres ?</p><p>Est-ce que des membres de la famille sont sujet aux allergies, la salive de chien, fixée sur leurs poils, peuvent être dans leurs formes les plus sévères, un motif d’impossibilité d’avoir un chien à ses côtés. Si vous aviez le moindre doute, assurez-vous-en au préalable.    </p><p>Concernant les enfants, la règle de base sera de ne jamais laisser un enfant seul avec le chien. Même le chien le plus gentil du monde, restant un chien, peut se retourner, répondre par agression (défense) à ce que lui considère comme du harcèlement de la part de votre enfant qui ne voudrait que jouer. Cela évitera un drame ! Vous ne seriez pas les premiers, ni les derniers à vous faire surprendre par la réaction d’un chien agacé. De plus, il sera primordial d’inculquer à votre enfant ce qu’est un chien (pas une peluche), ce qui lui est autorisé de faire avec, et ce qui est totalement interdit de faire.</p><p>Le logement : Petit chien, petit appartement, petite terrasse ? Grand chien, grande maison, grand jardin ? Que nenni ! Ces psychorigides du « bon sens » qui vous disent ça ne font qu’effleurer la question. </p><p> Il conviendra surtout d’étudier la vie que vous serez en mesure de lui offrir. Le temps que vous saurez lui consacrer, l’intensité, la régularité et le quotidien qui rythmeront ses journées seront des facteurs bien plus déterminants que ce fameux jardin clôt dont on vous parlait tant... Le jardin devrait être considéré comme un plus. Mais ne fera jamais le bonheur de votre chien, s’il y est seul.</p><p>Alors à-bas les idées reçues !</p><p>Tous les besoins propres du chien, liés à son âge, sexe, race,… Résumant l’ensemble des besoins physiologiques de l’individu, seront également à prendre en compte au moment du choix de ce compagnon tant désiré. C’est là qu’intervient la notion de disponibilité du ou des maîtres.</p><p>Êtes-vous certain de pouvoir toujours vous occuper de votre chien avec cette même rigueur. Est-ce que votre travail vous permet de rentrer (au moins) tous les midis sachant (bien évidemment) qu’un chien ne reste pas 8 heures seul chez vous, et ce qu’il soit propre ou non. De pouvoir l’emmener tous les jours dans son parc préféré avec ses copains, lui permettant de se défouler pour évacuer le stress de sa longue journée enfermée ? Et d’en plus pouvoir lui consacrer un bon moment durant votre weekend ? </p><p>Le chien est un animal social, qui a besoin d’interactions avec d’autres chiens, et humains. Certains vivront mieux que d’autre cette absence, mais ce n’est en aucun cas un chat solitaire, et ce n’est pas de bon cœur qu’il attendra de longues journées la courte balade du soir. Qu’il pleuve, qu’il vente qu’il neige… et cet adage prend son sens lorsque vous le vivez. Bref, vous l’aurez compris, si vous avez un chien, vous serez amené à sortir, à voir d’autres chiens, et pourquoi pas d’autres maîtres !</p><p>Vos vacances, vos weekends, vos sorties en seront également affectées. Avoir un chien est tout à fait conciliable avec beaucoup d’activités, il est vrai que des pensions canines sont à votre disposition, si vous pensez y loger votre future chien tous les weekends cependant, je pense qu’opter pour un poisson rouge serait plus judicieux… Mais de temps à autre cela peut être une solution de dépannage. Le chien verra d’autres congénères, lui permettant de jouer et favorisant une bonne sociabilité. Cette option représentera néanmoins un coût supplémentaire… </p><p>Les finances : </p><p>Il y aura fatalement un investissement de base à l’acquisition. Minime, cas où vous passeriez par un refuge, certains particuliers qui se retrouve avec des portées peuvent également être le moyen d’acquérir, et enfin les élevages bien plus coûteux. Toutes ces solutions ont leurs avantages et inconvénients. Je reviendrais sur ce sujet plus en détail ultérieurement.</p><p>Viendra ensuite l’alimentation… Et il est évident que je ne peux qu’encourager une alimentation de  qualité. Celle-ci sera un peu plus coûteuse que le bas de gamme, mais restera tout de même parfaitement accessible (surtout concernant les croquettes), dans le cas où votre chien ne présenterait pas de problème nécessitant une alimentation spécifique vous devriez bien vous en tirer. Néanmoins, il faut garder à l’esprit qu’un chien qui est correctement alimenté sera d’autant plus en forme et en meilleur santé. Vous éviterez ainsi de nombreuses visites chez le vétérinaire. Une bonne alimentation se révélera donc un investissement sur le long terme. </p><p>Ce qui nous amène donc à ce point. Serez-vous amené à la faire stériliser, ou le faire castrer ? Les vaccins, sont indispensables. Ils représentent un coût. Ils ne sont pas négociables. Il y aura également le bilan de santé annuel (pour les chiens ne présentant pas de problèmes particuliers). Une attention concernant les parasites, tiques, puces et vers nécessitera un dernier effort pour que votre arrivant soit bien dans ses pattes.</p><p>Ce petit récapitulatif n’est qu’une version écourtée et technique de ce que peut être d’avoir un chien, je ne veux pas plus encourager, que dissuader à l’adoption. C’est un choix qui reste le vôtre. Mon but est de vous faire prendre conscience de ce que représente cette responsabilité qu’il vous faudra assumer du premier jusqu’au dernier jour de votre animal. Le tableau n’est pas tout rose, mais selon qui vous êtes, ce que vous attendez de cette relation à venir, vous verrez que votre compagnon vous rendra avec son amour, tous ces efforts que vous serez amené à faire au quotidien pour lui. </p><p>Un petit conseil que je peux vous donner, serait de garder le chien de vos amis, voisins qui partent en weekend, ou en vacances. Cela pourrait être la réponse à certaines de vos questions. Être le déclic pour certains. Ou permettre à d’autres de renoncer ou simplement repousser l’adoption dans votre intérêt et celui du chien.</p>");

        articleService.save(article);
    }
}
